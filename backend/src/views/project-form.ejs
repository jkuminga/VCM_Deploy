<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>프로젝트 등록</title>
    <style>
      body {
        margin: 0;
        font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
        background: #f7fbf9;
        color: #052a1e;
      }

      .container {
        max-width: 720px;
        margin: 40px auto;
        background: #fff;
        border-radius: 24px;
        padding: 40px 48px;
        box-shadow: 0 20px 45px rgba(0, 0, 0, 0.08);
      }

      h1 {
        margin-top: 0;
        margin-bottom: 24px;
        font-size: 2rem;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      label {
        font-weight: 600;
        margin-bottom: 8px;
        display: inline-block;
      }

      input[type='text'],
      input[type='number'] {
        width: 100%;
        padding: 14px 16px;
        border-radius: 12px;
        border: 1px solid rgba(5, 42, 30, 0.2);
        font-size: 1rem;
      }

      .field-group {
        display: flex;
        flex-direction: column;
      }

      .radio-group {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
      }

      .radio-option {
        padding: 12px 16px;
        border: 1px solid rgba(5, 42, 30, 0.2);
        border-radius: 12px;
        display: inline-flex;
        align-items: center;
        gap: 8px;
        cursor: pointer;
      }

      button {
        margin-top: 12px;
        padding: 14px 24px;
        border: none;
        border-radius: 999px;
        background: #0f5132;
        color: #fff;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
      }

      button:hover {
        background: #0c3f27;
      }
    </style>
  </head>
  <body>
    <section class="container">
      <% const project = data || {}; %>
      <h1><%= isEdit ? '프로젝트 수정' : '프로젝트 등록' %></h1>
      <form action="<%= isEdit ? `/projects/${project.id || ''}` : '/projects/new' %>" method="POST">
        <div class="field-group">
          <label for="project_name">프로젝트 이름</label>
          <input
            id="project_name"
            name="project_name"
            type="text"
            value="<%= project.project_name || '' %>"
            required
          />
        </div>

        <div class="field-group">
          <label>등록 스탠다드</label>
          <div class="radio-group">
            <% ['ACR','ART','CAR','GS','VCS'].forEach((registry)=> { %>
            <label class="radio-option">
              <input
                type="radio"
                name="registry_to_register"
                value="<%= registry %>"
                <%= project.registry === registry ? 'checked' : '' %>
                required
              />
              <span><%= registry %></span>
            </label>
            <% }) %>
          </div>
        </div>

        <div class="field-group">
          <label for="scope">Scope</label>
          <input id="scope" name="scope" type="text" value="<%= project.scope || '' %>" required />
        </div>

        <div class="field-group">
          <label for="type">Type</label>
          <input id="type" name="type" type="text" value="<%= project.type || '' %>" />
        </div>

        <div class="field-group">
          <label>Removal / Reduction</label>
          <div class="radio-group">
            <% ['Impermanent Removal','Long Duration Removal','Reduction','Mixed'].forEach((option)=> { %>
            <label class="radio-option">
              <input
                type="radio"
                name="removal_or_reduction"
                value="<%= option %>"
                <%= project.removal_or_reduction === option ? 'checked' : '' %>
                required
              />
              <span><%= option %></span>
            </label>
            <% }) %>
          </div>
        </div>

        <div class="field-group">
          <label for="methodology">Methodology</label>
          <input id="methodology" name="methodology" type="text" value="<%= project.methodology || '' %>" />
        </div>

        <div class="field-group">
          <label for="country">Country</label>
          <input id="country" name="country" type="text" value="<%= project.country || '' %>" required />
        </div>

        <div class="field-group">
          <label for="project_developer">Project Developer</label>
          <input
            id="project_developer"
            name="project_developer"
            type="text"
            value="<%= project.project_developer || '' %>"
          />
        </div>

        <div class="field-group">
          <label for="estimated_annual_emission_reductions">Estimated Annual Emission Reductions</label>
          <input
            id="estimated_annual_emission_reductions"
            name="estimated_annual_emission_reductions"
            type="number"
            min="0"
            step="1"
            value="<%= project.estimated_annual_emission_reductions || '' %>"
          />
        </div>

        <button type="submit"><%= isEdit ? '수정하기' : '등록하기' %></button>
      </form>
    </section>
  </body>
</html>
